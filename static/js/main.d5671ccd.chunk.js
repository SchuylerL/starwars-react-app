(this["webpackJsonpstarwars-react-app"]=this["webpackJsonpstarwars-react-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),c=(a(26),a(3)),l=a.n(c),o=a(4),u=a(16),p=a(17),h=a(20),d=a(18),m=(a(5),a(2)),f=a.n(m),v=a(19);function b(){window.location="#"}function w(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://www.omdbapi.com/",{params:{apikey:"764452e7",t:t.data.title,y:t.data.release_date.substring(0,4)}});case 3:return(a=e.sent).data.crawl=t.data.opening_crawl,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error("There was a problem fetching:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function E(e){var t=e.person,a=Object(n.useState)({}),s=Object(v.a)(a,2),i=s[0],c=s[1],u=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,r,s,i,o,u,p,h,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.films.length)){e.next=51;break}return r=t.films[n],e.next=6,f.a.get("https://"+r.slice(7));case 6:if(s=e.sent,i=void 0,!t.homeworld.startsWith("http://")){e.next=13;break}return e.next=11,f.a.get("https://"+t.homeworld.slice(7));case 11:i=e.sent,t.homeworld=i.data.name;case 13:if(void 0===t.species[0]){e.next=19;break}if(!t.species[0].startsWith("http://")){e.next=19;break}return e.next=17,f.a.get("https://"+t.species[n].slice(7));case 17:i=e.sent,t.species=i.data.name;case 19:if(!Array.isArray(t.vehicles)){e.next=33;break}o=[],u=void 0,p=0;case 23:if(!(p<t.vehicles.length)){e.next=32;break}if(!t.vehicles[0].startsWith("http://")){e.next=29;break}return e.next=27,f.a.get("https://"+t.vehicles[p].slice(7));case 27:u=e.sent,o.push(u.data.name);case 29:p++,e.next=23;break;case 32:void 0!==u&&(t.vehicles=o);case 33:if(!Array.isArray(t.starships)){e.next=47;break}h=[],d=void 0,m=0;case 37:if(!(m<t.starships.length)){e.next=46;break}if(!t.starships[0].startsWith("http://")){e.next=43;break}return e.next=41,f.a.get("https://"+t.starships[m].slice(7));case 41:d=e.sent,h.push(d.data.name);case 43:m++,e.next=37;break;case 46:void 0!==d&&(t.starships=h);case 47:a.push(w(s));case 48:n++,e.next=2;break;case 51:return e.next=53,Promise.all(a);case 53:t.films=e.sent,c(t);case 55:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e={};for(var a in t)e[a]=t[a];u(e)}),[t]),r.a.createElement("div",{className:"detailDiv"},r.a.createElement("div",{id:"detailHeader"},void 0===i.name?r.a.createElement("h2",null,"Loading..."):r.a.createElement("h2",null,"Details for ",i.name),r.a.createElement("button",{id:"hideDetails",onClick:b},r.a.createElement("img",{id:"trooper",src:"storm.jfif",alt:"stormtrooper"}),"Close")),r.a.createElement("div",{id:"content"},r.a.createElement("ul",null,Object.keys(i).map((function(e,t){return r.a.createElement("li",{className:"detailsList",key:t},e,": ",e.includes("films")?r.a.createElement("br",null):null,e.includes("films")?i.films.map((function(e,t){return r.a.createElement("a",{href:"https://imdb.com/find?q=".concat(e.Title),target:"_blank",rel:"noopener noreferrer",key:t+1},r.a.createElement("img",{className:"zoom",src:e.Poster,title:e.Title,alt:e.Title}))})):e.includes("vehicles")||e.includes("starships")?i[e].map((function(e,t){return r.a.createElement("ul",{key:t+4},r.a.createElement("li",{className:"liNada",key:t+2},e))})):e.includes("url")?r.a.createElement("a",{href:i[e],key:t+3},i[e]):i[e])})))))}function x(e){var t=e.people;return r.a.createElement("div",{id:"peopleList"},r.a.createElement("h2",{id:"titleHeader"},"Star Wars Characters"),r.a.createElement("div",{id:"content"},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("a",{id:"namelist",key:e.id,href:"#".concat(e.id)},r.a.createElement("li",{id:"namelistli",key:e.id},e.name))})))))}var g="https://swapi.dev/api/people/?page=",y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={people:[],id:null},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r,s,i,c,o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("hashchange",(function(){var e=1*window.location.hash.slice(1);o.setState({id:e})})),window.location.hash.length>1&&(t=1*window.location.hash.slice(1),this.setState({id:t})),e.prev=2,a=[],e.next=6,f.a.get("".concat(g,"1"));case 6:n=e.sent,a.push(n.data.results),r=2;case 9:if(null===n.data.next){e.next=17;break}return e.next=12,f.a.get("".concat(g).concat(r));case 12:n=e.sent,a.push(n.data.results);case 14:r++,e.next=9;break;case 17:for(s=a.flat(),i=[],c=0;c<22;c++)i[c]=s[c],i[c].id=c+1;this.setState({people:i}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("There was a problem fetching people:",e.t0);case 26:case"end":return e.stop()}}),e,this,[[2,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.people,a=e.id,n=t.find((function(e){return e.id===a}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"content"},0===t.length?r.a.createElement("h2",null,"Loading..."):r.a.createElement(x,{people:t}),n?r.a.createElement(E,{person:n}):null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.d5671ccd.chunk.js.map